<!DOCTYPE html>
<html lang="en" class="theme-light">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

<head>
    <title>Checker 1.0.0 by x2loreeh</title>
    
</head>



<body>
<div class="sfondo">
    
    <div class="d-xl-flex flex-column justify-content-xl-center align-items-xl-center" style="text-align: center;height: 418px;margin: 0px;padding-top: 35px;">
        <div class="titlez">
            <img src="./icon.png" alt="CheckerIcon" width="175" height="175">
            <div class="containerz" style="padding-bottom: 5px;">
                <label id="switch" class="switch">
                    <input type="checkbox" onchange="toggleTheme()" id="slider">
                    <span class="slider round"></span>
                </label>
            </div>
                <h1 class="titlechecker" style="font-family: Poppins;">Checker</h1>
                <h3>Benvento, cosa vuoi controllare oggi?</h3>
        </div>

    </div>

    <table class="centered" id="cointable" >
        <thead style="font-family: Poppins;">
            <tr>
                <th style="font-family: Poppins; padding-top: 156px;">ðŸ’¸Valuta</th>
                <th style="font-family: Poppins;padding-top: 156px;">ðŸ’¶Simbolo Valuta</th>
                <th style="font-family: Poppins;padding-top: 156px;">ðŸ«°Prezzo Attuale</th>
            </tr>
        </thead>
        <tbody id="tablebody" style="font-family: Poppins;"></tbody>
    </table>
    
    <div id="spinner" class="center-align" style="padding-top: 156px;">
        <div class="preloader-wrapper big active">
            <div class="spinner-layer spinner-blue-only">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
          </div>
        </div>
    </div>
    </div>


        <script>
            async function getCryptoData() {
                const response = await fetch("Https://rest.coinapi.io/v1/assets",
                {
                    method: "GET",
                    headers: { "X-CoinAPI-Key": "C217EFBD-DA4A-46BC-BECB-42C1EBD98574" },
                });

                const table = document.getElementById("tablebody");
                const spinner = document.getElementById("spinner");
                const coins = await response.json();
                coins.forEach((currency) => {
                    if(currency.type_is_crypto) {
                        var rotHtml = `<tr><td>${currency.name}</td><td>${currency.asset_id}</td><td>${currency.price_usd}$</td></tr>`;
                        var template = document.createElement("template");
                        template.innerHTML = rotHtml;
                        var rowElement = template.content.firstChild;
                        table.appendChild(rowElement);
                        
                    }
                });

                spinner.parentElement.removeChild(spinner);

            }
            getCryptoData();
        </script>

    




    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script src="scripts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>


</body>
</html>